<form
  class="filters"
  [formGroup]="filterForm"
  (ngSubmit)="searchBooks()"
  *transloco="let t; read: 'library'"
>
  <text-input-with-validation
    size="medium"
    [label]="t('title')"
    [control]="filterForm.controls['title']"
  ></text-input-with-validation>

  <text-input-with-validation
    size="medium"
    [label]="t('author')"
    [control]="filterForm.controls['author']"
  ></text-input-with-validation>

  <div class="tags">
    <button
      type="button"
      class="secondary"
      (click)="dropdownOpened = !dropdownOpened"
    >
      {{ t("tags") }}
      <img class="icon svg" src="./assets/images/tag.svg" alt="tag" />
    </button>
    <div *ngIf="dropdownOpened" class="dropdown-panel">
      <section class="dropdown-header">{{ t("tags") }}</section>
      <section class="dropdown-content" *transloco="let t; read: 'library.tagList'">
        <ng-container *ngFor="let tag of tags">
          <pill
            [isActive]="tagsFormArray.value.includes(tag)"
            [clickable]="true"
            (clicked)="handlePill(tag)"
            >{{ t(tag) }}</pill
          >
        </ng-container>
      </section>
    </div>
  </div>

  <button type="submit" class="primary">
    {{ t("search") }}
    <img
      class="icon svg"
      src="./assets/images/magnifying-glass.svg"
      alt="magnifying-glass"
    />
  </button>

  <button class="secondary add-book" routerLink="add-book">
    {{ t("addBook") }}
    <img class="icon svg" src="./assets/images/plus.svg" alt="plus" />
  </button>
</form>
