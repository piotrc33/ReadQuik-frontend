<div class="exercises" *transloco="let t">
  <div class="nav">
    <exercise-nav [totalUnlocked]="unlockedExercisesCount"></exercise-nav>
  </div>
  <div class="content">
    <book-info></book-info>

    <exercise-info
      [exerciseNumber]="exerciseNumber()"
      [repetitions]="currentExerciseRepetitions ?? 0"
      [isExerciseUnlocked]="isCurrentExerciseUnlocked"
      [isTextLoaded]="wordPhrases.length > 0"
      (instructionsOpened)="openInstructions()"
      (startedExercise)="startExercise()"
    ></exercise-info>
    <app-dialog (close)="closeInstructions()" *ngIf="instructionsOpened">
      <instruction
        *ngIf="currentInstructionObject as instructionObject"
        content
        [instructionNumber]="exerciseNumber()"
        [instructionObject]="instructionObject"
      ></instruction>
    </app-dialog>

    <exercise-panel *ngIf="exerciseOpened"></exercise-panel>

    <recent-results></recent-results>
  </div>
</div>
